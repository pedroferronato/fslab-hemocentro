{% extends "base.html" %}

{% block cabecalho %}
<link href="{{ url_for('static', filename='css/baseConteudo.css') }}" rel="stylesheet">
<link href="{{ url_for('static', filename='css/captador.css') }}" rel="stylesheet">
{% endblock %}

{% block conteudo %}

<div class="contentorConteudo">
    <div class="bread noselect">

        <p>Inicial ></p>
        <p>Captadores ></p>

        {% if alterar %}
        <p>Alterar captador</p>
        {% else %}
        <p>Novo captador</p>
        {% endif %}

    </div>

    <div class="cartao noselect">

        <div class="titulo">

            {% if alterar %}
            <h1>Alterar captador</h1>
            {% else %}
            <h1>Novo captador</h1>
            {% endif %}

        </div>

        <div class="formulario">
            {% if alterar %}
            <form action="/captador/alterar/{{captador.id}}" method="POST">
            {% else %}
            <form action="/captador" method="POST">
            {% endif %}
            {% if sucesso %}
                <div class="alert alert-success" role="alert">
                    Captador registrado com sucesso
                </div>
            {% endif %}
            <div class="linhaFormulario">
                <div class="campo" id="divNome">
                    <label id="lbNome" for="nome">Nome Completo:</label>
                    <input type="text" id="nome" name="nome" autocomplete="off" onfocus="removerClasseAlerta('nome')">
                </div>
                <div class="campo">
                    <label for="celular" id="lbCelular">Celular:</label>
                    <input type="text" id="celular" name="celular" autocomplete="off" onfocus="removerClasseAlerta('celular')">
                </div>
                <div class="campo">
                    <label for="hemocentro" id="lbHemocentro">Hemocentro:</label>
                    <select name="hemocentro" id="hemocentro" onfocus="removerClasseAlerta('hemocentro')">
                        <option value="Selecione" selected="selected" disabled>Selecione</option>
                        {% for hemocentro in hemocentros %}
                            <option value="{{hemocentro.id}}">{{hemocentro.nome}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="campo">
                    <label for="admn">Administrador:</label>
                    <select name="adm" id="adm">
                        <option value="Captador" selected="selected">Captador</option>
                        <option value="Administrador">Administrador</option>
                        <option value="Servidor">Servidor</option>
                    </select>
                </div>
            </div>

            <div class="linhaFormulario ultimaLinhaInput">
                <div class="campo">
                    <label for="mail" id="lbMail">E-mail:</label>
                    <input type="text" id="mail" name="mail" autocomplete="off" onfocus="removerClasseAlerta('mail')">
                </div>
                <div class="campo">
                    <label for="login" id="lbLogin">Login:</label>
                    <input type="text" id="login" name="login" autocomplete="off" onfocus="removerClasseAlerta('login')">
                </div>
                <div class="campo">
                    <label for="senha" id="lbSenha">Senha:</label>
                    <input type="password" id="senha" name="senha" autocomplete="off" onfocus="removerClasseAlerta('senha')">
                </div>
                <div class="campo">
                    <label for="senha" id="lbConfirmarSenha">Confirmar senha:</label>
                    <input type="password" id="confirmarSenha" name="confirmarSenha" autocomplete="off" onfocus="removerClasseAlerta('confirmarSenha')">
                </div>
            </div>

            {% if alterar %}
            <div class="linhaBotoes SpcBtw">
                <button class="botao btn-principal linhaMRReset">Alterar</button>
                <button class="botao btn-alerta linhaMRReset">Excluir cadastro</button>
            </div>
            {% else %}
            <div class="linhaBotoes">
                <button onclick="validarCampos(event)" name="inserir" value="Inserir e continuar" class="botao btn-principal">Inserir e continuar</button>
                <button onclick="validarCampos(event)" name="inserir" value="Inserir" class="botao btn-principal">Inserir</button>
                <button type="button" onclick="limpar()" class="botao btn-secundario linhaMRReset">Limpar</button>
            </div>
            {% endif %}

        </div>
    </div>
</div>

{% endblock %}

{% block codigos %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.js"></script>
<script src="{{ url_for('static', filename='js/mascaras.js') }}"></script>
<script src="{{ url_for('static', filename='js/validarCaptador.js') }}"></script>
{% endblock  %}